---
import { formatDate } from "@/lib/util";
import CustomLink from "@/components/CustomLink.astro";

const { post } = Astro.props;

// Transform post data into CustomLink format
const linkData = {
  id: post.slug,
  title: post.data.title,
  description: `${formatDate(post.data.publicationDate)} â€¢ ${post.data.description}`,
  url: `/blog/${post.slug}`,
  icon: "lucide:file-text",
  image: post.data.image?.src,
  imageAlt: post.data.imageAlt ?? post.data.title
};
---

<div data-title={post.data.title} data-date={post.data.publicationDate.toISOString()} data-sort-order={post.data.sortOrder ?? ""}>
  <CustomLink link={linkData} />
</div>

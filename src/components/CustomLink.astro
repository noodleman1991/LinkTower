---
import { Icon } from "astro-icon/components";
const { link } = Astro.props;

---

<li>
  <a
    href={link.url}
    class={link.image 
      ? "flex flex-col rounded-3xl px-6 py-3 text-lg transition-colors ring-2 bg-base-100 text-base-content ring-base-300 hover:bg-base-200 hover:ring-base-content/20 overflow-hidden" 
      : "flex items-center gap-2 rounded-full px-6 py-3 text-lg transition-colors ring-2 bg-base-100 text-base-content ring-base-300 hover:bg-base-200 hover:ring-base-content/20"}
  >
    {link.image && (
      <div class="mb-3 -mx-6 -mt-3" style="width: calc(100% + 3rem);">
        <img
          src={link.image}
          alt={link.imageAlt || link.title}
          class="w-full object-cover object-center"
          onload="this.style.aspectRatio = this.naturalWidth * 2 >= this.naturalHeight * 3 ? 'auto' : '3/2'"
          style="aspect-ratio: 3/2;"
        />
      </div>
    )}
    <div class="flex items-center justify-between w-full">
      <Icon
        name={link.icon ?? "link"}
        class="size-6 transition-colors text-base-content/70"
      />
      <div class="flex-1 text-center">
        <p class="font-semibold">
          {link.title}
        </p>
        {link.description ? (
          <p class="text-sm text-base-content/60">
            {link.description}
          </p>
        ) : null}
      </div>
      <Icon
        name={"lucide:chevron-right"}
        class="size-6 transition-colors text-base-content/70"
      />
    </div>
  </a>
</li>
